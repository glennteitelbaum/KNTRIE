# kntrie3 Benchmark Results

Compiler: `g++ -std=c++23 -O2 -march=x86-64-v3`

In _vs_ rows, >1x means kntrie is better. **Bold** = kntrie wins.

## uint64_t — random

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.02 | 0.09 | 0.06 | 21.7 | 22.2 |
|  | std::map | 0.07 | 0.15 | 0.12 | 70.3 | 72.0 |
| | _map vs_ | _**3.73x**_ | _**1.80x**_ | _**2.23x**_ | _**3.24x**_ | _**3.24x**_ |
|  | unordered_map | 0.01 | 0.04 | 0.03 | 70.6 | 72.2 |
| | _umap vs_ | _0.78x_ | _0.42x_ | _0.63x_ | _**3.25x**_ | _**3.25x**_ |
| 10K | kntrie | 0.31 | 1.71 | 0.69 | 175.7 | 18.0 |
|  | std::map | 1.17 | 2.36 | 1.59 | 396.0 | 40.6 |
| | _map vs_ | _**3.78x**_ | _**1.38x**_ | _**2.30x**_ | _**2.25x**_ | _**2.25x**_ |
|  | unordered_map | 0.16 | 0.35 | 0.29 | 705.3 | 72.2 |
| | _umap vs_ | _0.53x_ | _0.20x_ | _0.42x_ | _**4.01x**_ | _**4.01x**_ |
| 100K | kntrie | 4.80 | 17.17 | 11.48 | 1701.0 | 17.4 |
|  | std::map | 27.53 | 58.15 | 28.79 | 4224.0 | 43.3 |
| | _map vs_ | _**5.74x**_ | _**3.39x**_ | _**2.51x**_ | _**2.48x**_ | _**2.48x**_ |
|  | unordered_map | 2.25 | 4.21 | 4.66 | 7092.9 | 72.6 |
| | _umap vs_ | _0.47x_ | _0.25x_ | _0.41x_ | _**4.17x**_ | _**4.17x**_ |
| 1M | kntrie | 140.89 | 1057.75 | 920.42 | 16386.0 | 16.8 |
|  | std::map | 809.15 | 1510.44 | 661.73 | 43008.0 | 44.0 |
| | _map vs_ | _**5.74x**_ | _**1.43x**_ | _0.72x_ | _**2.62x**_ | _**2.62x**_ |
|  | unordered_map | 33.11 | 77.61 | 82.46 | 70752.5 | 72.5 |
| | _umap vs_ | _0.24x_ | _0.07x_ | _0.09x_ | _**4.32x**_ | _**4.32x**_ |

## int32_t — random

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.02 | 0.07 | 0.05 | 18.4 | 18.9 |
|  | std::map | 0.07 | 0.13 | 0.16 | 70.3 | 72.0 |
| | _map vs_ | _**4.13x**_ | _**1.93x**_ | _**2.89x**_ | _**3.81x**_ | _**3.81x**_ |
|  | unordered_map | 0.01 | 0.06 | 0.03 | 70.6 | 72.2 |
| | _umap vs_ | _0.85x_ | _0.82x_ | _0.49x_ | _**3.83x**_ | _**3.83x**_ |
| 10K | kntrie | 0.29 | 0.75 | 0.65 | 134.4 | 13.8 |
|  | std::map | 1.18 | 1.69 | 1.65 | 703.1 | 72.0 |
| | _map vs_ | _**4.07x**_ | _**2.25x**_ | _**2.52x**_ | _**5.23x**_ | _**5.23x**_ |
|  | unordered_map | 0.17 | 0.34 | 0.30 | 705.3 | 72.2 |
| | _umap vs_ | _0.60x_ | _0.45x_ | _0.46x_ | _**5.25x**_ | _**5.25x**_ |
| 100.0K | kntrie | 4.72 | 9.66 | 8.67 | 1291.0 | 13.2 |
|  | std::map | 26.39 | 26.61 | 31.43 | 7031.0 | 72.0 |
| | _map vs_ | _**5.59x**_ | _**2.75x**_ | _**3.63x**_ | _**5.45x**_ | _**5.45x**_ |
|  | unordered_map | 2.32 | 4.62 | 5.23 | 7092.8 | 72.6 |
| | _umap vs_ | _0.49x_ | _0.48x_ | _0.60x_ | _**5.49x**_ | _**5.49x**_ |
| 999.9K | kntrie | 87.90 | 642.92 | 609.48 | 12510.9 | 12.8 |
|  | std::map | 840.45 | 1511.90 | 760.00 | 41316.0 | 42.3 |
| | _map vs_ | _**9.56x**_ | _**2.35x**_ | _**1.25x**_ | _**3.30x**_ | _**3.30x**_ |
|  | unordered_map | 34.54 | 80.60 | 92.58 | 70745.7 | 72.5 |
| | _umap vs_ | _0.39x_ | _0.13x_ | _0.15x_ | _**5.65x**_ | _**5.65x**_ |

## uint64_t — sequential

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.04 | 0.13 | 0.12 | 18.0 | 18.4 |
|  | std::map | 0.07 | 0.14 | 0.13 | 70.3 | 72.0 |
| | _map vs_ | _**1.57x**_ | _**1.14x**_ | _**1.08x**_ | _**3.91x**_ | _**3.91x**_ |
|  | unordered_map | 0.00 | 0.02 | 0.02 | 70.6 | 72.2 |
| | _umap vs_ | _0.09x_ | _0.20x_ | _0.14x_ | _**3.92x**_ | _**3.92x**_ |
| 10K | kntrie | 0.11 | 2.15 | 0.47 | 82.4 | 8.4 |
|  | std::map | 1.20 | 1.60 | 1.64 | 703.1 | 72.0 |
| | _map vs_ | _**10.71x**_ | _0.74x_ | _**3.49x**_ | _**8.53x**_ | _**8.53x**_ |
|  | unordered_map | 0.04 | 0.20 | 0.18 | 705.3 | 72.2 |
| | _umap vs_ | _0.33x_ | _0.09x_ | _0.38x_ | _**8.56x**_ | _**8.56x**_ |
| 100K | kntrie | 2.39 | 15.65 | 7.41 | 805.6 | 8.2 |
|  | std::map | 27.33 | 27.15 | 27.92 | 7031.2 | 72.0 |
| | _map vs_ | _**11.46x**_ | _**1.73x**_ | _**3.77x**_ | _**8.73x**_ | _**8.73x**_ |
|  | unordered_map | 0.87 | 2.04 | 3.88 | 7092.9 | 72.6 |
| | _umap vs_ | _0.36x_ | _0.13x_ | _0.52x_ | _**8.80x**_ | _**8.80x**_ |
| 1M | kntrie | 42.12 | 185.23 | 101.34 | 8036.1 | 8.2 |
|  | std::map | 787.61 | 1366.60 | 728.37 | 37620.0 | 38.5 |
| | _map vs_ | _**18.70x**_ | _**7.38x**_ | _**7.19x**_ | _**4.68x**_ | _**4.68x**_ |
|  | unordered_map | 14.39 | 32.79 | 66.47 | 70752.5 | 72.5 |
| | _umap vs_ | _0.34x_ | _0.18x_ | _0.66x_ | _**8.80x**_ | _**8.80x**_ |

## int32_t — sequential

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.04 | 0.13 | 0.11 | 14.0 | 14.3 |
|  | std::map | 0.07 | 0.16 | 0.13 | 70.3 | 72.0 |
| | _map vs_ | _**1.69x**_ | _**1.27x**_ | _**1.12x**_ | _**5.02x**_ | _**5.02x**_ |
|  | unordered_map | 0.00 | 0.02 | 0.02 | 70.6 | 72.2 |
| | _umap vs_ | _0.08x_ | _0.19x_ | _0.15x_ | _**5.04x**_ | _**5.04x**_ |
| 10K | kntrie | 0.11 | 1.70 | 0.50 | 82.4 | 8.4 |
|  | std::map | 1.24 | 1.70 | 1.64 | 703.1 | 72.0 |
| | _map vs_ | _**11.74x**_ | _1.00x_ | _**3.30x**_ | _**8.53x**_ | _**8.53x**_ |
|  | unordered_map | 0.04 | 0.21 | 0.17 | 705.3 | 72.2 |
| | _umap vs_ | _0.34x_ | _0.12x_ | _0.34x_ | _**8.56x**_ | _**8.56x**_ |
| 100K | kntrie | 1.24 | 13.61 | 5.53 | 805.4 | 8.2 |
|  | std::map | 26.40 | 25.99 | 27.27 | 7031.2 | 72.0 |
| | _map vs_ | _**21.26x**_ | _**1.91x**_ | _**4.93x**_ | _**8.73x**_ | _**8.73x**_ |
|  | unordered_map | 0.76 | 1.99 | 3.19 | 7092.9 | 72.6 |
| | _umap vs_ | _0.61x_ | _0.15x_ | _0.58x_ | _**8.81x**_ | _**8.81x**_ |
| 1M | kntrie | 23.17 | 154.46 | 76.51 | 8036.0 | 8.2 |
|  | std::map | 802.04 | 1371.80 | 726.48 | 45408.0 | 46.5 |
| | _map vs_ | _**34.61x**_ | _**8.88x**_ | _**9.50x**_ | _**5.65x**_ | _**5.65x**_ |
|  | unordered_map | 13.36 | 35.05 | 81.70 | 70752.5 | 72.5 |
| | _umap vs_ | _0.58x_ | _0.23x_ | _**1.07x**_ | _**8.80x**_ | _**8.80x**_ |

## uint64_t — dense16

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 787 | kntrie | 0.03 | 0.10 | 0.10 | 16.0 | 20.8 |
|  | std::map | 0.05 | 0.12 | 0.10 | 55.3 | 72.0 |
| | _map vs_ | _**1.50x**_ | _**1.29x**_ | _0.95x_ | _**3.46x**_ | _**3.46x**_ |
|  | unordered_map | 0.01 | 0.03 | 0.02 | 55.6 | 72.4 |
| | _umap vs_ | _0.25x_ | _0.28x_ | _0.18x_ | _**3.48x**_ | _**3.48x**_ |
| 7.9K | kntrie | 0.09 | 1.70 | 0.38 | 68.6 | 8.8 |
|  | std::map | 0.93 | 1.32 | 1.29 | 558.6 | 72.0 |
| | _map vs_ | _**10.11x**_ | _0.78x_ | _**3.37x**_ | _**8.15x**_ | _**8.15x**_ |
|  | unordered_map | 0.10 | 0.25 | 0.21 | 560.0 | 72.2 |
| | _umap vs_ | _**1.11x**_ | _0.14x_ | _0.55x_ | _**8.17x**_ | _**8.17x**_ |
| 78.7K | kntrie | 1.92 | 10.03 | 5.25 | 661.0 | 8.6 |
|  | std::map | 18.87 | 20.56 | 21.45 | 5530.3 | 72.0 |
| | _map vs_ | _**9.82x**_ | _**2.05x**_ | _**4.09x**_ | _**8.37x**_ | _**8.37x**_ |
|  | unordered_map | 1.35 | 2.80 | 3.12 | 5531.3 | 72.0 |
| | _umap vs_ | _0.70x_ | _0.28x_ | _0.59x_ | _**8.37x**_ | _**8.37x**_ |
| 787.1K | kntrie | 34.01 | 129.68 | 69.04 | 6594.0 | 8.6 |
|  | std::map | 574.75 | 740.19 | 529.18 | 28776.0 | 37.4 |
| | _map vs_ | _**16.90x**_ | _**5.71x**_ | _**7.66x**_ | _**4.36x**_ | _**4.36x**_ |
|  | unordered_map | 19.61 | 43.49 | 58.20 | 55709.8 | 72.5 |
| | _umap vs_ | _0.58x_ | _0.34x_ | _0.84x_ | _**8.45x**_ | _**8.45x**_ |

## int32_t — dense16

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 787 | kntrie | 0.03 | 0.08 | 0.09 | 12.0 | 15.6 |
|  | std::map | 0.05 | 0.12 | 0.10 | 55.3 | 72.0 |
| | _map vs_ | _**1.61x**_ | _**1.47x**_ | _**1.21x**_ | _**4.61x**_ | _**4.61x**_ |
|  | unordered_map | 0.01 | 0.03 | 0.02 | 55.6 | 72.4 |
| | _umap vs_ | _0.26x_ | _0.41x_ | _0.23x_ | _**4.63x**_ | _**4.63x**_ |
| 7.9K | kntrie | 0.09 | 1.29 | 0.39 | 68.6 | 8.8 |
|  | std::map | 0.95 | 1.31 | 1.27 | 558.6 | 72.0 |
| | _map vs_ | _**11.18x**_ | _**1.01x**_ | _**3.28x**_ | _**8.15x**_ | _**8.15x**_ |
|  | unordered_map | 0.10 | 0.24 | 0.21 | 560.0 | 72.2 |
| | _umap vs_ | _**1.22x**_ | _0.18x_ | _0.54x_ | _**8.17x**_ | _**8.17x**_ |
| 78.7K | kntrie | 0.99 | 8.12 | 3.82 | 660.5 | 8.6 |
|  | std::map | 19.06 | 19.43 | 20.95 | 5530.3 | 72.0 |
| | _map vs_ | _**19.16x**_ | _**2.39x**_ | _**5.48x**_ | _**8.37x**_ | _**8.37x**_ |
|  | unordered_map | 1.36 | 2.85 | 3.43 | 5531.3 | 72.0 |
| | _umap vs_ | _**1.37x**_ | _0.35x_ | _0.90x_ | _**8.37x**_ | _**8.37x**_ |
| 787.1K | kntrie | 17.94 | 96.09 | 54.11 | 6593.4 | 8.6 |
|  | std::map | 611.57 | 630.83 | 535.78 | 27984.0 | 36.4 |
| | _map vs_ | _**34.10x**_ | _**6.57x**_ | _**9.90x**_ | _**4.24x**_ | _**4.24x**_ |
|  | unordered_map | 19.36 | 47.84 | 66.64 | 55709.8 | 72.5 |
| | _umap vs_ | _**1.08x**_ | _0.50x_ | _**1.23x**_ | _**8.45x**_ | _**8.45x**_ |


# kntrie3 Benchmark Results

Compiler: `g++ -std=c++23 -O2 -march=x86-64-v3`

In _vs_ rows, >1x means kntrie is better. **Bold** = kntrie wins.

## uint64_t — random

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.01 | 0.11 | 0.08 | 21.7 | 22.2 |
|  | std::map | 0.05 | 0.12 | 0.10 | 70.3 | 72.0 |
| | _map vs_ | _**3.63x**_ | _**1.11x**_ | _**1.31x**_ | _**3.24x**_ | _**3.24x**_ |
|  | unordered_map | 0.01 | 0.03 | 0.02 | 70.6 | 72.2 |
| | _umap vs_ | _0.80x_ | _0.28x_ | _0.29x_ | _**3.25x**_ | _**3.25x**_ |
| 10K | kntrie | 0.26 | 1.22 | 0.57 | 175.7 | 18.0 |
|  | std::map | 0.96 | 2.06 | 1.37 | 396.0 | 40.6 |
| | _map vs_ | _**3.66x**_ | _**1.68x**_ | _**2.43x**_ | _**2.25x**_ | _**2.25x**_ |
|  | unordered_map | 0.14 | 0.28 | 0.28 | 705.3 | 72.2 |
| | _umap vs_ | _0.54x_ | _0.23x_ | _0.49x_ | _**4.01x**_ | _**4.01x**_ |
| 100K | kntrie | 4.13 | 16.23 | 6.11 | 1701.0 | 17.4 |
|  | std::map | 29.21 | 52.13 | 28.79 | 4620.0 | 47.3 |
| | _map vs_ | _**7.07x**_ | _**3.21x**_ | _**4.71x**_ | _**2.72x**_ | _**2.72x**_ |
|  | unordered_map | 2.26 | 4.52 | 5.12 | 7092.9 | 72.6 |
| | _umap vs_ | _0.55x_ | _0.28x_ | _0.84x_ | _**4.17x**_ | _**4.17x**_ |
| 1M | kntrie | 123.15 | 303.70 | 117.17 | 16386.0 | 16.8 |
|  | std::map | 688.67 | 961.60 | 693.51 | 48972.0 | 50.1 |
| | _map vs_ | _**5.59x**_ | _**3.17x**_ | _**5.92x**_ | _**2.99x**_ | _**2.99x**_ |
|  | unordered_map | 30.72 | 76.28 | 88.71 | 70752.5 | 72.5 |
| | _umap vs_ | _0.25x_ | _0.25x_ | _0.76x_ | _**4.32x**_ | _**4.32x**_ |

## int32_t — random

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.01 | 0.10 | 0.05 | 18.4 | 18.9 |
|  | std::map | 0.05 | 0.11 | 0.10 | 70.3 | 72.0 |
| | _map vs_ | _**4.06x**_ | _**1.13x**_ | _**2.00x**_ | _**3.81x**_ | _**3.81x**_ |
|  | unordered_map | 0.01 | 0.03 | 0.02 | 70.6 | 72.2 |
| | _umap vs_ | _0.85x_ | _0.31x_ | _0.50x_ | _**3.83x**_ | _**3.83x**_ |
| 10K | kntrie | 0.28 | 1.20 | 0.55 | 134.4 | 13.8 |
|  | std::map | 1.01 | 1.36 | 1.51 | 703.1 | 72.0 |
| | _map vs_ | _**3.63x**_ | _**1.14x**_ | _**2.76x**_ | _**5.23x**_ | _**5.23x**_ |
|  | unordered_map | 0.15 | 0.30 | 0.25 | 705.3 | 72.2 |
| | _umap vs_ | _0.54x_ | _0.25x_ | _0.46x_ | _**5.25x**_ | _**5.25x**_ |
| 100.0K | kntrie | 4.30 | 10.21 | 6.26 | 1291.0 | 13.2 |
|  | std::map | 35.21 | 29.56 | 30.75 | 7031.0 | 72.0 |
| | _map vs_ | _**8.18x**_ | _**2.89x**_ | _**4.91x**_ | _**5.45x**_ | _**5.45x**_ |
|  | unordered_map | 2.39 | 4.75 | 5.76 | 7092.8 | 72.6 |
| | _umap vs_ | _0.55x_ | _0.47x_ | _0.92x_ | _**5.49x**_ | _**5.49x**_ |
| 999.9K | kntrie | 95.74 | 170.79 | 89.00 | 12298.0 | 12.6 |
|  | std::map | 758.51 | 821.41 | 754.60 | 33396.0 | 34.2 |
| | _map vs_ | _**7.92x**_ | _**4.81x**_ | _**8.48x**_ | _**2.72x**_ | _**2.72x**_ |
|  | unordered_map | 33.57 | 82.12 | 96.78 | 70745.7 | 72.5 |
| | _umap vs_ | _0.35x_ | _0.48x_ | _**1.09x**_ | _**5.75x**_ | _**5.75x**_ |

## uint64_t — sequential

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.04 | 0.11 | 0.06 | 18.0 | 18.4 |
|  | std::map | 0.05 | 0.12 | 0.11 | 70.3 | 72.0 |
| | _map vs_ | _**1.52x**_ | _**1.01x**_ | _**1.87x**_ | _**3.91x**_ | _**3.91x**_ |
|  | unordered_map | 0.00 | 0.02 | 0.01 | 70.6 | 72.2 |
| | _umap vs_ | _0.09x_ | _0.17x_ | _0.23x_ | _**3.92x**_ | _**3.92x**_ |
| 10K | kntrie | 0.09 | 1.50 | 0.38 | 82.4 | 8.4 |
|  | std::map | 0.95 | 1.40 | 1.31 | 703.1 | 72.0 |
| | _map vs_ | _**10.14x**_ | _0.93x_ | _**3.45x**_ | _**8.53x**_ | _**8.53x**_ |
|  | unordered_map | 0.03 | 0.15 | 0.14 | 705.3 | 72.2 |
| | _umap vs_ | _0.32x_ | _0.10x_ | _0.37x_ | _**8.56x**_ | _**8.56x**_ |
| 100K | kntrie | 1.95 | 12.72 | 6.31 | 805.6 | 8.2 |
|  | std::map | 32.13 | 28.10 | 32.63 | 7031.2 | 72.0 |
| | _map vs_ | _**16.48x**_ | _**2.21x**_ | _**5.17x**_ | _**8.73x**_ | _**8.73x**_ |
|  | unordered_map | 1.23 | 1.89 | 4.98 | 7092.9 | 72.6 |
| | _umap vs_ | _0.63x_ | _0.15x_ | _0.79x_ | _**8.80x**_ | _**8.80x**_ |
| 1M | kntrie | 50.18 | 190.20 | 106.28 | 8036.1 | 8.2 |
|  | std::map | 821.06 | 930.66 | 758.83 | 25776.0 | 26.4 |
| | _map vs_ | _**16.36x**_ | _**4.89x**_ | _**7.14x**_ | _**3.21x**_ | _**3.21x**_ |
|  | unordered_map | 18.83 | 44.73 | 89.07 | 70752.5 | 72.5 |
| | _umap vs_ | _0.38x_ | _0.24x_ | _0.84x_ | _**8.80x**_ | _**8.80x**_ |

## int32_t — sequential

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 1K | kntrie | 0.04 | 0.13 | 0.06 | 14.0 | 14.3 |
|  | std::map | 0.06 | 0.12 | 0.11 | 70.3 | 72.0 |
| | _map vs_ | _**1.65x**_ | _0.91x_ | _**1.78x**_ | _**5.02x**_ | _**5.02x**_ |
|  | unordered_map | 0.00 | 0.02 | 0.01 | 70.6 | 72.2 |
| | _umap vs_ | _0.08x_ | _0.17x_ | _0.23x_ | _**5.04x**_ | _**5.04x**_ |
| 10K | kntrie | 0.10 | 1.49 | 0.49 | 82.4 | 8.4 |
|  | std::map | 1.07 | 1.61 | 1.40 | 703.1 | 72.0 |
| | _map vs_ | _**11.19x**_ | _**1.08x**_ | _**2.84x**_ | _**8.53x**_ | _**8.53x**_ |
|  | unordered_map | 0.03 | 0.17 | 0.15 | 705.3 | 72.2 |
| | _umap vs_ | _0.32x_ | _0.11x_ | _0.29x_ | _**8.56x**_ | _**8.56x**_ |
| 100K | kntrie | 1.08 | 11.62 | 4.74 | 805.4 | 8.2 |
|  | std::map | 32.94 | 28.30 | 33.80 | 7031.2 | 72.0 |
| | _map vs_ | _**30.62x**_ | _**2.44x**_ | _**7.14x**_ | _**8.73x**_ | _**8.73x**_ |
|  | unordered_map | 1.37 | 3.78 | 5.00 | 7092.9 | 72.6 |
| | _umap vs_ | _**1.28x**_ | _0.33x_ | _**1.05x**_ | _**8.81x**_ | _**8.81x**_ |
| 1M | kntrie | 29.97 | 164.47 | 88.22 | 8036.0 | 8.2 |
|  | std::map | 777.76 | 881.09 | 741.50 | 33528.0 | 34.3 |
| | _map vs_ | _**25.95x**_ | _**5.36x**_ | _**8.41x**_ | _**4.17x**_ | _**4.17x**_ |
|  | unordered_map | 19.26 | 44.87 | 82.62 | 70752.5 | 72.5 |
| | _umap vs_ | _0.64x_ | _0.27x_ | _0.94x_ | _**8.80x**_ | _**8.80x**_ |

## uint64_t — dense16

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 787 | kntrie | 0.03 | 0.10 | 0.06 | 16.0 | 20.8 |
|  | std::map | 0.04 | 0.11 | 0.08 | 55.3 | 72.0 |
| | _map vs_ | _**1.56x**_ | _**1.04x**_ | _**1.39x**_ | _**3.46x**_ | _**3.46x**_ |
|  | unordered_map | 0.01 | 0.02 | 0.02 | 55.6 | 72.4 |
| | _umap vs_ | _0.28x_ | _0.20x_ | _0.27x_ | _**3.48x**_ | _**3.48x**_ |
| 7.9K | kntrie | 0.08 | 1.01 | 0.32 | 68.6 | 8.8 |
|  | std::map | 0.75 | 1.10 | 1.19 | 558.6 | 72.0 |
| | _map vs_ | _**10.01x**_ | _**1.09x**_ | _**3.74x**_ | _**8.15x**_ | _**8.15x**_ |
|  | unordered_map | 0.09 | 0.21 | 0.16 | 560.0 | 72.2 |
| | _umap vs_ | _**1.14x**_ | _0.20x_ | _0.51x_ | _**8.17x**_ | _**8.17x**_ |
| 78.7K | kntrie | 1.48 | 7.69 | 4.19 | 661.0 | 8.6 |
|  | std::map | 20.92 | 17.28 | 20.15 | 5530.3 | 72.0 |
| | _map vs_ | _**14.18x**_ | _**2.25x**_ | _**4.81x**_ | _**8.37x**_ | _**8.37x**_ |
|  | unordered_map | 1.30 | 2.67 | 3.58 | 5531.3 | 72.0 |
| | _umap vs_ | _0.88x_ | _0.35x_ | _0.85x_ | _**8.37x**_ | _**8.37x**_ |
| 787.1K | kntrie | 41.46 | 113.49 | 81.91 | 6594.0 | 8.6 |
|  | std::map | 577.57 | 524.24 | 551.02 | 16896.0 | 22.0 |
| | _map vs_ | _**13.93x**_ | _**4.62x**_ | _**6.73x**_ | _**2.56x**_ | _**2.56x**_ |
|  | unordered_map | 21.18 | 56.25 | 74.36 | 55709.8 | 72.5 |
| | _umap vs_ | _0.51x_ | _0.50x_ | _0.91x_ | _**8.45x**_ | _**8.45x**_ |

## int32_t — dense16

| N | | Find(ms) | Insert(ms) | Erase(ms) | Memory(KB) | B/entry |
|---|-|----------|------------|-----------|------------|--------|
| 787 | kntrie | 0.03 | 0.11 | 0.05 | 12.0 | 15.6 |
|  | std::map | 0.04 | 0.10 | 0.08 | 55.3 | 72.0 |
| | _map vs_ | _**1.56x**_ | _0.85x_ | _**1.59x**_ | _**4.61x**_ | _**4.61x**_ |
|  | unordered_map | 0.01 | 0.02 | 0.02 | 55.6 | 72.4 |
| | _umap vs_ | _0.26x_ | _0.20x_ | _0.32x_ | _**4.63x**_ | _**4.63x**_ |
| 7.9K | kntrie | 0.08 | 1.01 | 0.31 | 68.6 | 8.8 |
|  | std::map | 0.82 | 1.09 | 1.12 | 558.6 | 72.0 |
| | _map vs_ | _**10.48x**_ | _**1.07x**_ | _**3.54x**_ | _**8.15x**_ | _**8.15x**_ |
|  | unordered_map | 0.09 | 0.19 | 0.19 | 560.0 | 72.2 |
| | _umap vs_ | _**1.18x**_ | _0.19x_ | _0.59x_ | _**8.17x**_ | _**8.17x**_ |
| 78.7K | kntrie | 0.96 | 7.16 | 4.01 | 660.5 | 8.6 |
|  | std::map | 23.22 | 23.32 | 25.29 | 5530.3 | 72.0 |
| | _map vs_ | _**24.22x**_ | _**3.26x**_ | _**6.31x**_ | _**8.37x**_ | _**8.37x**_ |
|  | unordered_map | 1.51 | 3.66 | 4.16 | 5531.3 | 72.0 |
| | _umap vs_ | _**1.57x**_ | _0.51x_ | _**1.04x**_ | _**8.37x**_ | _**8.37x**_ |
| 787.1K | kntrie | 25.97 | 101.11 | 59.97 | 6593.4 | 8.6 |
|  | std::map | 549.19 | 545.72 | 542.04 | 19140.0 | 24.9 |
| | _map vs_ | _**21.15x**_ | _**5.40x**_ | _**9.04x**_ | _**2.90x**_ | _**2.90x**_ |
|  | unordered_map | 19.59 | 52.65 | 63.86 | 55709.8 | 72.5 |
| | _umap vs_ | _0.75x_ | _0.52x_ | _**1.06x**_ | _**8.45x**_ | _**8.45x**_ |